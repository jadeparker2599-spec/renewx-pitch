<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>RenewX , Tech-as-a-Service</title>
  <style>
    :root{
      --bg-dark-1: #0b0f14;
      --bg-dark-2: #11151a;
      --card:#0f1720;
      --muted:#9aa6b8;
      --accent1:#2aa6ff;
      --accent2:#6de08a;
      --glass: rgba(255,255,255,0.03);
      --soft: rgba(255,255,255,0.02);
      --glass-2: rgba(255,255,255,0.04);
    }

    
    :root.light-theme{
      --bg-dark-1:#f7f9fb;
      --bg-dark-2:#ffffff;
      --card:#eef3f8;
      --muted:#4a5668;
      --accent1:#0077ff;
      --accent2:#1cbf5f;
      --glass:rgba(0,0,0,0.05);
      --soft:rgba(0,0,0,0.03);
      --glass-2:rgba(0,0,0,0.06);
      --heading:#0a0a0a; 
    }

    
    :root.cyber-theme{
      --bg-dark-1:#05060a;
      --bg-dark-2:#090b14;
      --card:#0d1220;
      --muted:#9ab7ff;
      --accent1:#00eaff;
      --accent2:#ff00d4;
      --glass:rgba(0,255,255,0.05);
      --soft:rgba(255,0,255,0.04);
      --glass-2:rgba(0,255,255,0.08);
    }

    
    :root.eco-theme{
      --bg-dark-1:#0d130d;
      --bg-dark-2:#152015;
      --card:#122415;
      --muted:#a7c8a7;
      --accent1:#6de08a;
      --accent2:#2aa6ff;
      --glass:rgba(110,224,138,0.07);
      --soft:rgba(110,224,138,0.05);
      --glass-2:rgba(110,224,138,0.12);
    }

    
    :root.solar-theme{
      --bg-dark-1:#fdf6e3;
      --bg-dark-2:#fefcf6;
      --card:#eee8d5;
      --muted:#586e75;
      --accent1:#268bd2;
      --accent2:#859900;
      --glass:rgba(0,0,0,0.04);
      --soft:rgba(0,0,0,0.03);
      --glass-2:rgba(0,0,0,0.06);
      --heading:#002b36; 
    }

    *{box-sizing:border-box}
    html,body{height:100%;margin:0;font-family:Inter,system-ui,Segoe UI,Roboto,'Helvetica Neue',Arial;background:linear-gradient(180deg,var(--bg-dark-1) 0%, var(--bg-dark-2) 100%);color:var(--heading,#e6f0ff);-webkit-font-smoothing:antialiased}
    a{cursor:pointer}

    header{position:fixed;left:0;right:0;top:0;display:flex;justify-content:space-between;align-items:center;padding:14px 28px;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.00));backdrop-filter:blur(6px);border-bottom:1px solid rgba(255,255,255,0.03);z-index:60}
    .logo{display:flex;align-items:center;gap:12px}
    $1


input, textarea, label, .card, .btn, select {
  font-family: inherit;
  -webkit-font-smoothing:antialiased;
}
input, textarea {
  font-family: Inter, system-ui, 'Segoe UI', Roboto, 'Helvetica Neue', Arial;
  font-size: 0.95rem;
  color: var(--heading, #e6f0ff);
  background: transparent;
  border: 1px solid rgba(255,255,255,0.03);
  outline: none;
}
input::placeholder, textarea::placeholder {
  color: var(--muted);
  opacity: 1;
}
textarea { resize: none; }

    .brand{font-weight:800;font-size:1.15rem;color:transparent; background: linear-gradient(90deg,var(--accent1),var(--accent2)); -webkit-background-clip:text; position:relative; min-width:86px}
    .brand.typewriting { border-right: 2px solid rgba(255,255,255,0.08); padding-right:6px; }

    nav a{margin-left:14px;text-decoration:none;color:var(--muted);font-weight:600;padding:8px 12px;border-radius:10px;transition:all .22s}
    nav a:hover{background:var(--soft);transform:translateY(-3px); color: #dff7ff}
    nav a.active{background:linear-gradient(90deg,var(--accent1),var(--accent2));color:#00101a;box-shadow:0 8px 28px rgba(45,165,255,0.08)}

    main{padding-top:84px;min-height:100vh}

    
    .wrap{max-width:1180px;margin:0 auto;padding:36px}

    
    .hero{display:grid;grid-template-columns:1fr 520px;gap:34px;align-items:center;margin-top:6px}
    .hero-left h1{font-size:2.4rem;margin:0 0 12px;line-height:1.03;color: var(--heading, #ecf6ff);}
    h1,h2,h3{color:var(--heading,#e6f0ff);}
    .eyebrow{display:inline-block;padding:6px 10px;background:linear-gradient(90deg, rgba(110,224,138,0.06), rgba(42,166,255,0.06));color:var(--muted);border-radius:999px;font-weight:700;font-size:0.85rem;margin-bottom:14px}
    .hero p{color:var(--muted);margin:0 0 22px}

    .cta-row{display:flex;gap:12px;margin-top:8px}
    .btn{background:linear-gradient(90deg,var(--accent1),var(--accent2));color:#021819;padding:12px 16px;border-radius:12px;border:0;font-weight:800;cursor:pointer;box-shadow:0 10px 30px rgba(45,165,255,0.08);transition:transform .14s, box-shadow .14s}
    .btn.secondary{background:transparent;color:var(--muted);border:1px solid rgba(255,255,255,0.04);box-shadow:none}
    .btn:active{transform:translateY(1px)} 

    .hero-right{position:relative;height:420px;border-radius:18px;display:flex;align-items:center;justify-content:center}
    .laptop-stage{width:100%;height:100%;border-radius:18px;background:linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.00));box-shadow:0 16px 60px rgba(2,8,14,0.6);position:relative;overflow:hidden}

    
    .info-card{position:absolute;left:18px;bottom:18px;background:linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.01));border-radius:12px;padding:12px 14px;min-width:220px;box-shadow:0 8px 30px rgba(2,6,10,0.6);backdrop-filter:blur(4px)}
    .info-card h4{margin:0;font-size:0.95rem;color:#e7fbff}
    .info-card p{margin:6px 0 0;font-size:0.9rem;color:var(--muted)}

    
    section{padding:60px 0}
    .card-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:18px}
    .card{background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));border-radius:12px;padding:18px;border:1px solid rgba(255,255,255,0.03);box-shadow:0 10px 28px rgba(2,8,14,0.6);opacity:0;transform:translateY(12px) scale(.995);transition:all .7s cubic-bezier(.2,.9,.2,1)}
    .card.show{opacity:1;transform:none}
    .number{font-size:1.6rem;color:var(--accent1);font-weight:900}

    
    .modal-backdrop{position:fixed;inset:0;background:rgba(4,10,18,0.6);display:flex;align-items:center;justify-content:center;z-index:120}
    .modal{background:linear-gradient(180deg,#071018,#0e1720);border-radius:12px;padding:20px;min-width:320px;max-width:560px;color:var(--muted)}
    .modal h3{margin:0 0 8px;color:var(--heading,#e6f0ff)}
    .close{position:absolute;right:14px;top:10px;cursor:pointer}

    
    #particle-canvas{position:fixed;left:0;right:0;bottom:0;height:50vh;pointer-events:none;z-index:10}

    
    .fade-enter{opacity:0;transform:translateY(8px) scale(.995)}
    .fade-enter-active{opacity:1;transform:none;transition:all .45s cubic-bezier(.2,.9,.2,1)}
    .fade-exit{opacity:1}
    .fade-exit-active{opacity:0;transform:translateY(-8px);transition:all .35s ease}

    
    .card h4{margin:0 0 6px;color:var(--heading,#e6f0ff)}
    .card p{margin:0;color:var(--muted)}

    
    @media (max-width:980px){.hero{grid-template-columns:1fr} .hero-right{height:360px} .card-grid{grid-template-columns:repeat(1,1fr)}}

    
    #themeToggle{position:fixed;bottom:22px;right:22px;z-index:200;background:var(--glass-2);backdrop-filter:blur(8px);border:1px solid rgba(255,255,255,0.05);padding:12px;border-radius:12px;cursor:pointer;color:var(--muted);font-weight:700;box-shadow:0 8px 28px rgba(0,0,0,0.35);transition:transform .18s}
    #themeToggle:active{transform:scale(0.96)}
  </style>
</head>
<body>
  <header>
    <div class="logo"><div id="brandText" class="brand typewriting">RenewX</div></div>
    <nav aria-label="Main navigation">
      <a role="button" href="#" data-page="home" class="navlink active">Home</a>
      <a role="button" href="#" data-page="impact" class="navlink">Impact</a>
      <a role="button" href="#" data-page="why" class="navlink">Why RenewX</a>
      <a role="button" href="#" data-page="contact" class="navlink">Contact</a>
    </nav>
  </header>

  <main>
    <div class="wrap" id="app">
      
    </div>
  </main>

  
  <canvas id="particle-canvas" aria-hidden="true"></canvas>

  
  <div id="modalRoot" style="display:none"></div>

  
  <button id="themeToggle" aria-label="Cycle theme">ðŸŒ“</button>

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r134/three.min.js"></script>
  <script>
    
    const app = document.getElementById('app');
    const links = document.querySelectorAll('.navlink');
    let activePage = 'home';

    function setActiveLink(page){
      links.forEach(l=>{l.classList.toggle('active', l.dataset.page===page)});
    }

    function fadeReplace(html){
      const container = document.createElement('div');
      container.innerHTML = html;
      container.className = 'fade-enter';
      app.querySelectorAll('.fade-enter').forEach(n=>n.remove());

      const old = app.firstElementChild;
      if(old){
        old.classList.add('fade-exit-active');
        old.style.transition = 'all .35s ease';
        old.style.opacity = 0;
        setTimeout(()=>old.remove(),360);
      }

      app.appendChild(container);
      requestAnimationFrame(()=>container.classList.add('fade-enter-active'));
      // After inserted, trigger card reveal observer if any
      setTimeout(()=>observeCards(), 420);
    }

    // content (rewritten using your pitch) - em-dashes replaced with commas
    const CONTENT = {
      home: `
        <section class="hero" aria-label="Hero">
          <div class="hero-left">
            <div class="eyebrow">Circular Tech, a Service</div>
            <h1>Tech That Saves Money, And The Planet.</h1>
            <p>Premium renewed laptops for MSMEs at â‚¹1,500/mo with a guaranteed 4-hour SLA across NCR, convert CapEx into predictable OpEx and cut e-waste.</p>
            <div class="cta-row">
              <button class="btn" onclick="navigate('contact')">Get a Quote</button>
              <button class="btn secondary" onclick="navigate('impact')">See Impact</button>
            </div>
            <div style="margin-top:18px;color:var(--muted);font-size:0.95rem">Pro tip: sourcing â‚¹25k/device, payback in ~25 months. Profitability at 25 active contracts.</div>
          </div>

          <div class="hero-right" aria-hidden="true">
            <div class="laptop-stage" id="three-root" aria-hidden="true">
              <div class="info-card">
                <h4>4-hr SLA , â‚¹1,500/mo</h4>
                <p>Devices renewed , Fast local repairs , Partner network</p>
              </div>
            </div>
          </div>
        </section>

        <section aria-label="Problem">
          <div style="display:flex;gap:12px;align-items:center;margin-bottom:12px"><div style="flex:0 0 6px;height:6px;background:var(--accent1);border-radius:99px"></div><div style="font-weight:700;font-size:1.05rem">The Triple-Threat Crisis</div></div>
          <div class="card" style="margin-bottom:14px">
            <h4>Problem</h4>
            <p>MSMEs in Delhi-NCR face enormous upfront CapEx for device fleets, falling cash flow, cheap devices that break, and mounting e-waste. They need affordable, reliable, and sustainable tech, immediately.</p>
          </div>
        </section>
      `,

      impact: `
        <section aria-label="Impact">
          <h2 style="margin-top:6px">Impact & The North Star</h2>
          <p style="color:var(--muted);max-width:820px">Every renewed laptop saves ~4 kg of e-waste and prevents ~300 kg COâ‚‚. Scale to 5,000 devices, avoid 20 tons e-waste & save 1,500 tons COâ‚‚ yearly.</p>

          <div style="height:20px"></div>
          <div class="card-grid">
            <div class="card"><div class="number">4 kg</div><p style="margin-top:8px;color:var(--muted)">e-waste saved per device</p></div>
            <div class="card"><div class="number">300 kg</div><p style="margin-top:8px;color:var(--muted)">COâ‚‚ saved per device</p></div>
            <div class="card"><div class="number">5,000+</div><p style="margin-top:8px;color:var(--muted)">target devices (NCR)</p></div>
          </div>

          <section style="margin-top:26px">
            <h3>Operational Clarity</h3>
            <div class="card-grid" style="margin-top:12px">
              <div class="card"><h4>Partner Guarantee</h4><p>Zero fixed overhead, certified freelance partners + ARCs that get dispatched from a central dashboard. Replacement units sent to meet the 4-hour SLA.</p></div>
              <div class="card"><h4>Financial Advantage</h4><p>â‚¹1,500/mo typically 20% below true TCO, preserves capital and reduces downtime risk for 36 months.</p></div>
              <div class="card"><h4>25-Contract Break-Even</h4><p>Sourcing at â‚¹25k/device, payback in ~25 months. Low fixed costs = fast, low-risk scale.</p></div>
            </div>
          </section>
        </section>
      `,

      why: `
        <section aria-label="Why RenewX">
          <h2>Why RenewX?</h2>
          <p style="color:var(--muted)">We guarantee uptime, convert CapEx to manageable OpEx, and reduce environmental harm, all backed by local operational partners and a clear unit economics model.</p>

          <div style="height:18px"></div>
          <div class="card-grid">
            <div class="card"><h4>Reliable Supply</h4><p>Premium renewed devices, tested and upgraded for enterprise use.</p></div>
            <div class="card"><h4>Service Promise</h4><p>4-hour on-site replacement anywhere in NCR via local ARCs.</p></div>
            <div class="card"><h4>Better Cash Flow</h4><p>Low monthly OpEx protects working capital & simplifies accounting (GST-claimable).</p></div>
          </div>
        </section>
      `,

      contact: `
        <section aria-label="Contact">
          <h2>Contact Us</h2>
          <p style="color:var(--muted)">Tell us about your fleet needs.</p>
          <div class="card" style="margin-top:12px">
            <label style="display:block;font-weight:700;margin-bottom:8px;color:var(--heading,#e6f0ff)">Company</label>
            <input placeholder="Company name" style="width:100%;padding:10px;border-radius:8px;border:1px solid rgba(255,255,255,0.03);margin-bottom:10px;background:transparent;color:var(--heading,#e6f0ff)">
            <label style="display:block;font-weight:700;margin-bottom:8px;color:var(--heading,#e6f0ff)">Email</label>
            <input placeholder="you@example.com" style="width:100%;padding:10px;border-radius:8px;border:1px solid rgba(255,255,255,0.03);margin-bottom:10px;background:transparent;color:var(--heading,#e6f0ff)">
            <label style="display:block;font-weight:700;margin-bottom:8px;color:var(--heading,#e6f0ff)">Notes</label>
            <textarea placeholder="How many units? Location?" style="width:100%;padding:10px;border-radius:8px;border:1px solid rgba(255,255,255,0.03);min-height:90px;background:transparent;color:var(--heading,#e6f0ff)"></textarea>
            <div style="display:flex;justify-content:flex-end;margin-top:12px"><button class="btn" onclick="this.closest('section').querySelectorAll('input, textarea').forEach(f=>f.value='')">Submit</button></div>
          </div>
        </section>
      `
    };

    function navigate(page){
      if(page===activePage) return;
      activePage = page;
      setActiveLink(page);
      fadeReplace(CONTENT[page]);
      if(page==='home') initThree();
      else stopThree();
    }

    // wire nav clicks
    links.forEach(el=>el.addEventListener('click', (e)=>{e.preventDefault();navigate(el.dataset.page)}));

    // initial render
    setActiveLink('home');
    fadeReplace(CONTENT.home);

    
    const canvas = document.getElementById('particle-canvas');
    const ctx = canvas.getContext('2d');
    let W = canvas.width = innerWidth;
    let H = canvas.height = innerHeight * 0.5;
    const particles = [];

    function rand(min,max){return Math.random()*(max-min)+min}

    function spawnParticle(){
      particles.push({
        x: rand(40,W-40),
        y: H + rand(10,60),
        r: rand(4,11),
        vx: rand(-0.3,0.3),
        vy: rand(-1.4,-0.6),
        life: rand(140,260),
        alpha:1,
        hue: rand(165,220),
        wobble: rand(0.1,0.6)
      });
      if(particles.length>200) particles.shift();
    }

    function updateParticles(){
      ctx.clearRect(0,0,W,H);
      for(let i=0;i<particles.length;i++){
        const p = particles[i];
        p.x += p.vx + Math.sin(p.life * 0.02) * p.wobble;
        p.y += p.vy;
        p.life -= 1;
        p.alpha = Math.max(0, p.life/260);
        const g = ctx.createRadialGradient(p.x,p.y,p.r*0.1,p.x,p.y,p.r);
        g.addColorStop(0, `rgba(110,224,138,${p.alpha})`);
        g.addColorStop(0.6, `rgba(42,166,255,${p.alpha*0.2})`);
        g.addColorStop(1, `rgba(12,24,40,0)`);
        ctx.fillStyle = g;
        ctx.beginPath(); ctx.arc(p.x,p.y,p.r,0,Math.PI*2); ctx.fill();
        if(p.life<=0) particles.splice(i--,1);
      }
    }

    let particleTimer=0;
    function tickParticles(){
      particleTimer = (particleTimer + 1) % 100000;
      if(particleTimer % 5 === 0) spawnParticle();
      updateParticles();
      requestAnimationFrame(tickParticles);
    }
    tickParticles();

    window.addEventListener('resize', ()=>{W = canvas.width = innerWidth; H = canvas.height = innerHeight * 0.5});

    
    function observeCards(){
      const cards = document.querySelectorAll('.card');
      if(!cards.length) return;
      const obs = new IntersectionObserver((entries, o)=>{
        entries.forEach(e=>{
          if(e.isIntersecting){ e.target.classList.add('show'); o.unobserve(e.target); }
        });
      }, {threshold:0.15});
      cards.forEach(c=>obs.observe(c));
    }

    
    let renderer,scene,camera,animateId,laptopGroup; let threeMounted=false;

    function initThree(){
      if(threeMounted) return;
      threeMounted=true;
      const root = document.getElementById('three-root');
      if(!root) return;

      // renderer
      renderer = new THREE.WebGLRenderer({alpha:true,antialias:true});
      renderer.setPixelRatio(window.devicePixelRatio || 1);
      renderer.setSize(root.clientWidth, root.clientHeight);
      renderer.domElement.style.display='block';
      renderer.domElement.style.borderRadius = '14px';
      root.appendChild(renderer.domElement);

      // scene + camera
      scene = new THREE.Scene();
      camera = new THREE.PerspectiveCamera(40, root.clientWidth / root.clientHeight, 0.1, 100);
      camera.position.set(0,1.1,3.2);

      // lights
      const hemi = new THREE.HemisphereLight(0xffffff,0x222233,0.9); scene.add(hemi);
      const key = new THREE.DirectionalLight(0xffffff,0.8); key.position.set(6,8,4); scene.add(key);
      const rim = new THREE.DirectionalLight(0x9be6ff,0.25); rim.position.set(-4,2,-2); scene.add(rim);

      // laptop group
      laptopGroup = new THREE.Group();

      // base: slightly chamfered by using rounded box via BufferGeometry trick (approx)
      const baseGeom = new THREE.BoxGeometry(2.6,0.08,1.5);
      const baseMat = new THREE.MeshStandardMaterial({color:0x08121a,metalness:0.35,roughness:0.45});
      const base = new THREE.Mesh(baseGeom, baseMat);
      base.position.set(0,-0.22,0);
      laptopGroup.add(base);

      // keyboard surface (sloped a tad)
      const keysSurface = new THREE.Mesh(new THREE.BoxGeometry(2.4,0.02,1.25), new THREE.MeshStandardMaterial({color:0x07131a,metalness:0.2,roughness:0.46}));
      keysSurface.position.set(0,-0.14,0.02);
      laptopGroup.add(keysSurface);

      // generate many small keycaps to suggest keyboard
      const keyMat = new THREE.MeshStandardMaterial({color:0x0d2230,metalness:0.18,roughness:0.5});
      const keyGeo = new THREE.BoxGeometry(0.12,0.02,0.12);
      const startX = -1.05, startZ = -0.45, gapX=0.16, gapZ=0.14;
      for(let r=0;r<6;r++){
        for(let c=0;c<12;c++){
          const k = new THREE.Mesh(keyGeo, keyMat);
          k.position.set(startX + c*gapX, -0.11, startZ + r*gapZ);
          k.rotation.y = (Math.random()-0.5)*0.01;
          laptopGroup.add(k);
        }
      }

      // hinge (small cylinder)
      const hinge = new THREE.Mesh(new THREE.CylinderGeometry(0.03,0.03,2.2,12), new THREE.MeshStandardMaterial({color:0x0b1520,metalness:0.6,roughness:0.3}));
      hinge.rotation.z = Math.PI/2; hinge.position.set(0,-0.08,-0.75);
      laptopGroup.add(hinge);

      // screen frame (thin bezel)
      const frameGeom = new THREE.BoxGeometry(2.24,1.38,0.06);
      const frameMat = new THREE.MeshStandardMaterial({color:0x071525,metalness:0.18,roughness:0.25});
      const frame = new THREE.Mesh(frameGeom, frameMat); frame.position.set(0,0.55,-0.74);
      laptopGroup.add(frame);

      // screen plane (use logo texture)
      const loader = new THREE.TextureLoader();
      const logoData = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEACAYAAABccqhmAAB2W0lEQVR42uydd7...IhIe0mt562y1oz7x/7gOWxAPI8r2V/P5wPufeee865a681e9asmd8ABQUFBQUF';
      const logoTex = loader.load(logoData, ()=>{ renderer && renderer.render(scene,camera); });
      if(logoTex) logoTex.encoding = THREE.sRGBEncoding;
      // Use MeshBasicMaterial so lighting doesn't wash out the logo, keeping screen dark
      const screenMat = new THREE.MeshBasicMaterial({ color: 0x000000 });
      const screen = new THREE.Mesh(new THREE.PlaneGeometry(2.0,1.16), screenMat); screen.position.set(0,0.55,-0.71);
      laptopGroup.add(screen);

      laptopGroup.rotation.x = -0.18;
      laptopGroup.position.y = 0;
      scene.add(laptopGroup);

      // subtle floating ring
      const ringGeo = new THREE.TorusGeometry(1.7,0.01,8,120);
      const ringMat = new THREE.MeshBasicMaterial({color:0x6de08a,transparent:true,opacity:0.06});
      const ring = new THREE.Mesh(ringGeo,ringMat); ring.rotation.x = Math.PI/2; ring.position.set(0,-0.02,-0.3); scene.add(ring);

      // animation loop
      function animate(){
        animateId = requestAnimationFrame(animate);
        const t = performance.now() * 0.0006;
        laptopGroup.rotation.y = Math.sin(t) * 0.38;
        laptopGroup.rotation.x = Math.sin(t*0.42) * 0.06 - 0.18;
        laptopGroup.position.y = Math.sin(t*0.7) * 0.02;
        renderer.render(scene,camera);
      }
      animate();

      window.addEventListener('resize', onThreeResize);
    }

    function onThreeResize(){
      const root = document.getElementById('three-root');
      if(!renderer) return;
      renderer.setSize(root.clientWidth, root.clientHeight);
      camera.aspect = root.clientWidth / root.clientHeight; camera.updateProjectionMatrix();
    }

    function stopThree(){
      if(!threeMounted) return;
      threeMounted=false;
      cancelAnimationFrame(animateId);
      try{ renderer.domElement.remove(); renderer.dispose(); scene = null; camera = null; renderer = null; }catch(e){}
      window.removeEventListener('resize', onThreeResize);
    }

    // expose navigate to inline handlers
    window.navigate = navigate;

    // keyboard quick nav
    window.addEventListener('keydown', (e)=>{
      if(e.key==='1') navigate('home'); if(e.key==='2') navigate('impact'); if(e.key==='3') navigate('why'); if(e.key==='4') navigate('contact');
    });

    // ensure three initializes for the first view
    setTimeout(()=>{ if(activePage==='home') initThree(); }, 350);

    
    function typewriteEl(el, speedBase=20){
      if(!el) return;
      const text = el.textContent.trim();
      el.textContent = "";
      let i = 0;
      function tick(){
        if(i < text.length){
          el.textContent += text[i];
          i++;
          setTimeout(tick, speedBase + Math.random()*30);
        }
      }
      tick();
    }

    // Brand typewriter (small delay so image loads first)
    setTimeout(()=>{
      const brand = document.getElementById('brandText');
      if(brand) typewriteEl(brand, 30);
      brand && (brand.textContent = brand.textContent || 'RenewX');
    }, 250);

    // Typewriter for section headers once DOM content is ready
    window.addEventListener('DOMContentLoaded',()=>{
      document.querySelectorAll('h1, h2, h3').forEach((h, idx)=>{
        setTimeout(()=>typewriteEl(h, 18), idx * 120);
      });
    });

    
    const themeOrder = ['','light-theme','cyber-theme','eco-theme','solar-theme']; // '' is default root
    let themeIndex = 0;
    const themeBtn = document.getElementById('themeToggle');
    function applyTheme(){
      // set only the single class name on documentElement so :root.theme selectors work
      document.documentElement.className = themeOrder[themeIndex] || '';
    }
    if(themeBtn){
      themeBtn.addEventListener('click', ()=>{
        themeIndex = (themeIndex + 1) % themeOrder.length;
        applyTheme();
      });
    }

    
    // call observeCards after each fadeReplace (already invoked)
  </script>
</body>
</html>
